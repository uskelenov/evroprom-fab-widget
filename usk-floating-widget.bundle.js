(function(){class e{constructor(t,i={}){if(this.container=document.querySelector(t),!this.container)return;this.options=i,this.isOpen=!1,this.clickedOnce=!1,this.pulseTimer=null,this.container.classList.add("fab-container"),this.renderGreeting(),this.renderItems(),this.renderMain()}renderGreeting(){const e=this.options.greeting;if(!e||!e.enabled)return;this.greeting=document.createElement("div"),this.greeting.className="fab-greeting",this.greeting.innerHTML=e.text,e.background&&(this.greeting.style.background=e.background),e.color&&(this.greeting.style.color=e.color),this.container.appendChild(this.greeting),e.autoHide&&"number"==typeof e.delay&&setTimeout(()=>this.hideGreeting(),e.delay)}hideGreeting(){this.greeting&&this.greeting.remove(),this.greeting=null}renderItems(){const e=this.options.buttons||[];if(!e.length)return;this.items=document.createElement("div"),this.items.className="fab-items",e.forEach(e=>{const t=document.createElement("div");if(t.className="fab-item",t.innerHTML=this.renderIcon(e.icon),e.background&&(t.style.background=e.background),e.color&&(t.style.color=e.color),e.hoverBackground&&(t.addEventListener("mouseenter",()=>t.style.background=e.hoverBackground),t.addEventListener("mouseleave",()=>t.style.background=e.background)),e.classes&&[].concat(e.classes).forEach(e=>t.classList.add(e)),e.tooltip){const i=document.createElement("div");i.className="fab-tooltip",i.innerHTML=e.tooltip,e.tooltipStyle&&(e.tooltipStyle.background&&(i.style.background=e.tooltipStyle.background),e.tooltipStyle.color&&(i.style.color=e.tooltipStyle.color)),t.appendChild(i),e.alwaysShowLabel&&t.classList.add("show-label")}t.addEventListener("click",e.onClick||(()=>{})),this.items.appendChild(t)}),this.container.appendChild(this.items)}renderMain(){this.mainBtn=document.createElement("div"),this.mainBtn.className="fab-main",this.mainBtn.innerHTML=this.renderIcon(this.options.mainIcon);const e=this.options.mainStyle||{};e.background&&(this.mainBtn.style.background=e.background),e.color&&(this.mainBtn.style.color=e.color);const t=this.options.pulse||{};t.pulseColor&&this.mainBtn.style.setProperty("--fab-pulse-color",t.pulseColor),this.mainBtn.addEventListener("click",()=>this.toggle()),this.container.appendChild(this.mainBtn),t.enabled&&this.startPulse(t)}renderIcon(e){return"string"==typeof e&&!e.includes("<")&&/\.(svg|png|jpe?g|webp|gif)$/i.test(e)?`<img src="${e}" class="fab-main-icon">`:e||""}startPulse(e){const t=e.pulseDelay||2500;this.stopPulse(),this.pulseTimer=setInterval(()=>{this.isOpen||(this.mainBtn.classList.remove("fab-pulse"),void this.mainBtn.offsetWidth,this.mainBtn.classList.add("fab-pulse"),e.pulseOnce&&this.stopPulse())},t)}stopPulse(){this.pulseTimer&&clearInterval(this.pulseTimer),this.pulseTimer=null,this.mainBtn&&this.mainBtn.classList.remove("fab-pulse")}toggle(){this.isOpen=!this.isOpen,this.container.classList.toggle("open",this.isOpen),this.clickedOnce||(this.hideGreeting(),this.clickedOnce=!0);const e=this.options.pulse||{};if(this.isOpen)this.stopPulse();else{const t=e.target||"main";e.enabled&&"main"===t&&this.startPulse(e)}}window.FloatingWidget=e})();!function(){var e=document.createElement("style");e.textContent=".fab-container{position:fixed;right:24px;bottom:24px;z-index:9999;display:flex;flex-direction:column;align-items:center;font-family:inherit;font-size:inherit;font-style:inherit}.fab-main{--fab-pulse-color:rgba(0,0,0,.35);width:56px;height:56px;border-radius:50%;background:#111;color:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 10px 30px rgba(0,0,0,.05);transition:transform .25s ease;user-select:none}.fab-main:hover{transform:scale(1.05)}.fab-main-icon{width:26px;height:26px;object-fit:contain;pointer-events:none}.fab-items{display:flex;flex-direction:column;gap:12px;margin-bottom:12px;opacity:0;transform:translateY(10px);pointer-events:none;transition:.25s ease}.fab-container.open .fab-items{opacity:1;transform:translateY(0);pointer-events:auto}.fab-item{width:48px;height:48px;border-radius:50%;background:#fff;color:#111;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 6px 20px rgba(0,0,0,.15);position:relative}.fab-tooltip{position:absolute;right:60px;background:#111;color:#fff;padding:6px 10px;border-radius:6px;font-size:13px;white-space:nowrap;opacity:0;transform:translateX(5px);pointer-events:none;transition:.2s;font-family:inherit}.fab-item:hover .fab-tooltip,.fab-item.show-label .fab-tooltip{opacity:1;transform:translateX(0)}.fab-greeting{position:absolute;right:0;bottom:72px;background:#111;color:#fff;padding:12px 16px;border-radius:12px;max-width:240px;width:200px;font-size:14px;box-shadow:0 10px 30px rgba(0,0,0,.25);animation:fadeUp .3s ease}@keyframes fadeUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes fabPulse{0%{box-shadow:0 0 0 0 var(--fab-pulse-color)}70%{box-shadow:0 0 0 14px rgba(0,0,0,0)}100%{box-shadow:0 0 0 0 rgba(0,0,0,0)}}.fab-main.fab-pulse{animation:fabPulse 1.2s ease-out}.btn-telegram{background:#229ED9;color:#fff}.btn-mail{background:#444;color:#fff}.is-primary{box-shadow:0 0 0 3px rgba(0,0,0,.15)}",document.head.appendChild(e)}();
